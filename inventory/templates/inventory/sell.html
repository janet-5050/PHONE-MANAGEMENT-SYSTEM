{% extends 'inventory/base.html' %}{% block content %}<h2>Record a Sale</h2><form method="post">{% csrf_token %}{{ customer_form.as_p }}<div id="items"><div class="item-row"><select name="phone_1"><option value=''>-- select phone --</option>{% for p in phones %}<option value='{{p.pk}}'>{{p.brand.name}} {{p.name}} ({{p.stock}}) - Ksh {{p.price}}</option>{% endfor %}</select><input name="qty_1" type="number" value="1" min="1"></div></div><button type="button" onclick="addRow()">+ add item</button><button type="submit">Record Sale</button></form><script>let counter=1;function addRow(){counter+=1;const d=document.createElement('div');d.className='item-row';d.innerHTML=`<select name="phone_${counter}"><option value=''>-- select phone --</option>{% for p in phones %}<option value='{{p.pk}}'>{{p.brand.name}} {{p.name}} ({{p.stock}}) - Ksh {{p.price}}</option>{% endfor %}</select><input name="qty_${counter}" type="number" value="1" min="1">`;document.getElementById('items').appendChild(d);}</script>{% endblock %}
